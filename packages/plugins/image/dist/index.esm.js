import{Plugin as t}from"@rte-editor/core";class e extends t{constructor(t={}){super({name:"image",schema:{nodes:{image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),width:t.getAttribute("width"),height:t.getAttribute("height")})}],toDOM:t=>["img",t.attrs]}}},commands:{insertImage:(t,e)=>(r,a)=>{const i=r.schema.nodes.image;if(a){const n=t||prompt("Enter image URL:");if(n){const t={src:n};e&&(t.alt=e);const l=i.create(t);a(r.tr.replaceSelectionWith(l))}}return!0},uploadImage:e=>(r,a)=>{if(t.maxSize&&e.size>t.maxSize)return alert("File too large"),!1;const i=new FileReader;return i.onload=t=>{const i=t.target?.result;if(i&&a){const t=r.schema.nodes.image.create({src:i,alt:e.name}),n=r.tr.replaceSelectionWith(t);a(n)}},i.readAsDataURL(e),!0}},toolbar:{items:[{id:"image",icon:"üñºÔ∏è",label:"Image",command:"insertImage"}]}})}}function r(t){return new e(t)}export{e as ImagePlugin,r as createImagePlugin};
//# sourceMappingURL=index.esm.js.map
