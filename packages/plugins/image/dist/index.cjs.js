"use strict";var e=require("@rte-editor/core");class t extends e.Plugin{constructor(e={}){super({name:"image",schema:{nodes:{image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width"),height:e.getAttribute("height")})}],toDOM:e=>["img",e.attrs]}}},commands:{insertImage:(e,t)=>(r,a)=>{const i=r.schema.nodes.image;if(a){const n=e||prompt("Enter image URL:");if(n){const e={src:n};t&&(e.alt=t);const l=i.create(e);a(r.tr.replaceSelectionWith(l))}}return!0},uploadImage:t=>(r,a)=>{if(e.maxSize&&t.size>e.maxSize)return alert("File too large"),!1;const i=new FileReader;return i.onload=e=>{const i=e.target?.result;if(i&&a){const e=r.schema.nodes.image.create({src:i,alt:t.name}),n=r.tr.replaceSelectionWith(e);a(n)}},i.readAsDataURL(t),!0}},toolbar:{items:[{id:"image",icon:"üñºÔ∏è",label:"Image",command:"insertImage"}]}})}}exports.ImagePlugin=t,exports.createImagePlugin=function(e){return new t(e)};
//# sourceMappingURL=index.cjs.js.map
