"use strict";var t=require("@rte-editor/core");class e extends t.Plugin{constructor(){super({name:"list",schema:{nodes:{bullet_list:{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]},list_item:{content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:()=>["li",0],defining:!0}}},commands:{toggleBulletList:s,toggleOrderedList:i,liftListItem:n,sinkListItem:l},toolbar:{items:[{id:"bullet-list",icon:"â€¢",label:"Bullet List",command:"toggleBulletList",active:t=>r(t)},{id:"ordered-list",icon:"1.",label:"Numbered List",command:"toggleOrderedList",active:t=>o(t)}]},keybindings:{"Mod-Shift-8":"toggleBulletList","Mod-Shift-7":"toggleOrderedList",Tab:"sinkListItem","Shift-Tab":"liftListItem"}})}}function r(t){const{from:e,to:r}=t.selection;let o=!1;return t.doc.nodesBetween(e,r,(t,e,r)=>{if(r&&"bullet_list"===r.type.name)return o=!0,!1}),o}function o(t){const{from:e,to:r}=t.selection;let o=!1;return t.doc.nodesBetween(e,r,(t,e,r)=>{if(r&&"ordered_list"===r.type.name)return o=!0,!1}),o}function s(t,e){const o=t.schema.nodes.bullet_list,s=t.schema.nodes.list_item,i=t.schema.nodes.paragraph;if(!o||!s||!i)return!1;const{from:n,to:l}=t.selection;if(r(t)){if(e){e(t.tr.setBlockType(n,l,i))}return!0}if(e){const r=t.tr;r.wrapIn(o),r.setBlockType(n,l,s),e(r)}return!0}function i(t,e){const r=t.schema.nodes.ordered_list,s=t.schema.nodes.list_item,i=t.schema.nodes.paragraph;if(!r||!s||!i)return!1;const{from:n,to:l}=t.selection;if(o(t)){if(e){e(t.tr.setBlockType(n,l,i))}return!0}if(e){const o=t.tr;o.wrapIn(r),o.setBlockType(n,l,s),e(o)}return!0}function n(t,e){if(e){e(t.tr.lift(t.selection.from,t.selection.to))}return!0}function l(t,e){if(e){e(t.tr.wrap(t.selection.from,t.selection.to,t.schema.nodes.list_item))}return!0}exports.ListPlugin=e,exports.createListPlugin=function(){return new e};
//# sourceMappingURL=index.cjs.js.map
